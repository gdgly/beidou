2018/12/03
1、实现网口转串口，成功通过这种方式控制SIM800A模块进行工作
   备注：向SIM800A模块发送的指令需要以回车结尾，需要写在程序里面，如果是在网口写进去AT+回车行不通

2018/12/04
1、12-03的代码似乎对读取接受内存内容有问题
2、尝试直接移植GPRS1127的uart代码  ----成功
   备注：自带的delay.c使用了滴答计时器，主函数中的time轮询事件也使用了滴答计时器，所以在运行时如果出现了delay中
         函数，会导致time轮询事件无法启动，所以需要改写delay函数使用普通定时器实现延时

可以实现GPRS_init,将从GPRS接收到的数据打印到串口1
网络可以连通


2018/12/06
1、实现串口四的北斗报文功能
-》实现串口4与网口的透传功能 √
-》实现网口报文内容的拆包和封装 。。。

发现了问题：在测试网口接收数据，需要分包转发的功能时，如果此时继续向网口发送数据，会断开网络连接
初步分析的原因：DATA_to_BD_PROCESS函数执行中，进行分包发送未完成之前，函数未执行完成，就卡在这个地方了
测试：DATA_to_BD_PROCESS函数中延时30s测试，在期间30s中程序未能执行主函数的轮询等操作，可以确定卡在这里了
解决方法：1、在主函数中的while循环中写一个BD_TIMER定时器，时间为61s
          2、将分成的子包和ASK存入子buffer和ASKbuffer中
          3、轮询时按照子包buffer顺序依次查询是否有需要发送的内容（bufferx_len>0?），发送完成后清空buffer
             所有的子包发送完毕后，收到ack确认报文表示全部收到后清空所有buffer，将BD_STA置0 
          4、只有当BD_STA为0时，才会将网口收到的数据进行处理，否则不予处理
可能出现的问题：1、是否有长时间未收到ACK再次进行ASK查询的过程，暂时先不写
                2、如果没有收到ACK确认报文网口永远不进行数据处理？
                3、发送完成后是否对所有的本次数据进行清除？
如上改动将在1206-1中进行
记录：既然使用了子包buffer，那么重传的时候可以直接用子包buffer吗--------------X
可能的问题 ：如果直接用上述解决方案，那么在发送出子包之后标志位不可以清零-----X

2018/12/07
在上传电力数据报文时有三种状态：
1、收到电力报文后分包发送
2、子包和第一次ASK发送完毕后等待ACK中……
3、ACK回复确认收到所有报文，本次数据处理完毕
相对应的网口对接收到的数据处理为：
1、丢弃期间收到的数据，结束后可进行串口数据处理，期间禁止串口与网口报文传输-------------期间禁止了网口报文的接收处理
2、接收串口ACK报文，禁止网口报文传输----------------------------------------------------√
3、打开串口和网口报文传输---------------------------------------------------------------√

即将进行的功能测试：
串口进来的数据分析与转发

2018/12/24
1、增加了1min内未收到ACK将发送ASK,3次之后认定本次通信失败
2、上机测试（没有电表的完整环节）OK

不够完善的地方：
在接收到数据后会发送ACK，此时程序仍然可以点击时间查询按键，然而由于北斗端刚刚发送了报文，时间未到1min，所以此时查询
报文无法发送并最终导致程序崩溃（无法正常运行）。

即将进行的测试：
GPRS与串口联合测试
1、如果开启了GPRS接收，就要彻底废除北斗端的数据收发功能（串口4接发屏蔽，linux服务器暂时停用）
2、

-------------------------------------------------------------------------------------------------------------------
2019/4月
更新GPRS模块为4G透传模块
